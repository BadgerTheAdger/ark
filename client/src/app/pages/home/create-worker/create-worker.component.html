<div class="centered-content">
  <div class="white-box-language">
    <h1 class="title has-text-primary">{{ 'CREATEWORKER.TITLE' | translate }}</h1>

    <form #signupForm="ngForm" (ngSubmit)="onSubmit(usernameInput.value, emailInput.value, pwInput.value, roleSelect.value)" style="margin-bottom: 10px;">
      <div class="field">
        <p class="control has-icons-left has-icons-right">
          <input
            #usernameInput
            ngModel
            name="username"
            class="input has-background-light"
            type="text"
            required
            [placeholder]="usernamePlaceholder"
          />
          <span class="icon is-small is-left">
            <i class="fas fa-user"></i>
          </span>
        </p>
      </div>
      <div class="field">
        <p class="control has-icons-left has-icons-right">
          <input
            #emailInput
            ngModel
            name="email"
            class="input has-background-light"
            type="email"
            email
            required
            [ngClass]="{
              'is-danger':
                !signupForm.controls.email?.valid &&
                !signupForm.controls.email?.untouched
            }"
            [placeholder]="emailPlaceholder"
          />
          <span class="icon is-small is-left">
            <i class="fas fa-envelope"></i>
          </span>
        </p>
      </div>
      <div class="field">
        <p class="control has-icons-left">
          <input
            #pwInput
            ngModel
            name="password"
            class="input has-background-light"
            type="password"
            minlength="6"
            required
            [ngClass]="{
              'is-danger':
                !signupForm.controls.password?.valid &&
                !signupForm.controls.password?.untouched
            }"
            [placeholder]="passwordPlaceholder"
          />
          <span class="icon is-small is-left">
            <i class="fas fa-lock"></i>
          </span>
        </p>
      </div>
      <div class="field">
        <div class="control">
          <div class="select-language cool-text">
            <div class="text-wrapper">{{ 'CREATEWORKER.ROLE' | translate }}:</div>
            <div class="dropdown-wrapper">
              <div class="select" style="margin-left: 15px;">
                <select #roleSelect ngModel="Basic" name="roleSelect">
                  <option>{{ 'CREATEWORKER.BASIC' | translate }}</option>
                  <option *ngIf="loggedUser.role === 'supervisor'">{{ 'CREATEWORKER.ADMIN' | translate }}</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div style="display: flex; margin-top: 30px;">
        <div class="bottom" style="display: flex; flex-grow: 1; padding-top: 4px;">
          <a [routerLink]="['..', 'workers']" style="margin-right: 20px;">
            <span>
              <i class="far fa-arrow-alt-circle-left fa-2x"></i>
            </span>
          </a>
          <div style="padding-top: 4px;">
            <p class="has-text-grey cool-text">
              {{ 'CREATEWORKER.BACK' | translate }}
            </p>
          </div>
        </div>
        <div class="field" style="display: flex; justify-content: flex-end;">
          <p class="control">
            <button class="button is-primary has-text-white" type="submit">
              {{ 'CREATEWORKER.CREATE' | translate }}
            </button>
          </p>
        </div>
      </div>
    </form>
  </div>
</div>
